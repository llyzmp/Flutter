# Dart
[toc]

> Dart是由谷歌，在2011年开发的计算机编程语言，可以被用于web，服务器，移动应用，物联网等多个领域，号称要取代javaScript

**重要概念**
- 所有变量引用都是对象，每个对象都是一个类的实例，数字，函数以及null都是对象，出去null以外（如果开启了控安全），所有类都继承于Object类
- 尽管Dart是强类型语言，但是在声明变量时指定类型时可选的，因为Dart可以进行类型推断，
- 如果开启了控安全，变量在未声明为可空类型时不能为null,你可以通过在类型后加上问号（?）将类型声明为空，如int?类型的变量可以是整形数字或null,如果明确知道一个表达式不会为空，但是Dart不会这么认为，可以再表达式后添加!来断言表达式不为空（为空时将跑出异常）int x = nullableButNotNullInt!
- 如果想要显式的声明允许任意类型，使用Object?(如果开启了控安全)， Object或特殊类型dynamic将检查延迟到运行时进行
- Dart支持泛型，比如List<int>（表示一组由int对象组成的列表）或List<Object>（表示一组由任何类型对象组成的列表）
- Dart支持顶级函数（例如main方法），同时还支持定义属于类或对象的函数（即静态和实例方法），你还可以在函数中定义函数（嵌套或局部函数）
- Dart支持顶级变量，以及定义属于类或对象的变量（静态和实例变量），实例变量有时称之为域或属性
- Dart没有类似于Java那样的public,protected和private成员访问限定符，如果一个标识符以下划线（_）开头则表示该标识符在库内是私有的
- Dart中表达式和语句是有区别的，表达式有值而语句没有
- Dart工具可以显示警告和错误两种类型的问题，警告表明代码可能有问题但不会组织其运行，错误分为编译时错误和运行时错误，编译时错误代码无法运行，运行时错误会在代码运行时导致异常


## 1. 语法基础
- 注释语法和js一致
- 声明函数不需要关键字（js中通过function关键字来声明函数）
- 函数和参数前面都有类型声明，void表示没有返回值，int是整型数字
- 打印使用print（js使用console.log()）
- 每行代码结束时，必须写结束分号（;）
- 字符串通过引号包起来，支持模板字符串
- main是入口函数，Dart应用程序总是从main函数开始执行
- 用var声明变量，其数据类型是动态的

### 1.1 变量
- 变量是一个引用， Dart万物皆对象，变量存储的是对象的引用
- 声明变量
  - 明确指定类型：int age = 18;
  - 不明确类型： var age = 18; 或 dynamic age = 18;
- 变量名大小写敏感（num和Num是两个不同的变量）
- 变量的默认值是null（js中变量默认值是undefined）
- Dart变量的值不会隐式转换(null不会自动转换为false)

### 1.2 常量
- 常量就是值不可变的变量（一旦声明，其值不可更改）
- 声明常量
  - const age = 18;
  - final age = 18;
- const 与 final的区别
  - const time = DateTime.now(); //报错， 无法将运行时的值分配给const变量
  - final time = DateTime.now(); //成功， 可以将运行时的值分配给final变量

### 1.3 数据类型
- Number
  - Dart 中的数字由三个关键字描述
    - num数字类型（既可以是整数，也可以是小数）
      - int 表示整数（必须是整数）
      - double 表示浮点数（既可以是整数，也可以是小数）
- String
- Boolean
- List 
- Set
- Map
- 其他